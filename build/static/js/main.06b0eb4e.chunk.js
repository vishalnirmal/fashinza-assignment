(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{43:function(e,t,a){},46:function(e,t,a){},49:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(20),c=a.n(r),s=a(5),o=a(3),i=a(17),u=a(15),d="ADD_NAME_FILTER",l="ADD_CATEGORY_FILTER",p="ADD_PRICE_FILTER",j="REMOVE_FILTER",f=a(11),b=(a(43),a(1));var m=function(){var e=Object(f.b)(),t=Object(n.useState)(""),a=Object(u.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)({min:"",max:""}),m=Object(u.a)(o,2),h=m[0],O=m[1],_=Object(f.c)((function(e){return e.categories})),x=_.loading,y=_.error,v=_.categories,g=Object(f.c)((function(e){return e.filter}));Object(n.useEffect)((function(){0===Object.keys(g).length&&(c(""),O({min:"",max:""}))}),[g]);var E=function(e){O((function(t){return Object(s.a)(Object(s.a)({},t),{},Object(i.a)({},e.target.name,e.target.value))}))},C=function(t){e(function(e){return{type:l,payload:e}}(t))};return Object(b.jsxs)("div",{className:"filter",children:[Object(b.jsxs)("form",{className:"filter__search",onSubmit:function(t){t.preventDefault(),e(function(e){return{type:d,payload:e}}(r))},children:[Object(b.jsx)("input",{type:"text",className:"filter__search__input",label:"name",name:"name",id:"name",value:r,onChange:function(e){c(e.target.value)},placeholder:"Search",autoComplete:"off"}),Object(b.jsx)("button",{type:"submit",className:"filter__search__button",children:Object(b.jsx)("i",{className:"fas fa-search"})})]}),Object(b.jsxs)("div",{className:"filter__category",children:[Object(b.jsx)("h4",{className:"filter__category__heading",children:"Filter by category"}),Object(b.jsx)("div",{className:"filter__category__list",children:x?Object(b.jsx)("h2",{children:"Loading"}):y?Object(b.jsx)("h2",{children:"Unable to fetch list of categories"}):v.length?v.map((function(e,t){return Object(b.jsx)("p",{className:(g.category===e?"selected":"")+" filter__category__list__item",onClick:function(){return C(e)},children:e},t)})):Object(b.jsx)("h2",{children:"No categories to show"})})]}),Object(b.jsxs)("form",{className:"filter__price",onSubmit:function(t){t.preventDefault(),e(function(e){return{type:p,payload:e}}(h))},children:[Object(b.jsx)("input",{type:"number",className:"filter__price__input",label:"min",name:"min",id:"min",value:h.min,onChange:E,placeholder:"Min",autoComplete:"off"}),Object(b.jsx)("input",{type:"number",className:"filter__price__input",label:"max",name:"max",id:"max",value:h.max,onChange:E,placeholder:"Max",autoComplete:"off"}),Object(b.jsx)("button",{type:"submit",className:"filter__price__button",children:"Apply"})]}),Object(b.jsx)("button",{className:"filter__reset",onClick:function(){e({type:j}),c(""),O({min:"",max:""})},children:"Reset Filters"})]})},h=a(4),O=a.n(h),_=a(6),x=a(14);a(46);function y(e){var t=e.name,a=e.description,r=e.price,c=e.category,s=e._id,o=e.deleteProduct,i=Object(n.useState)(!1),d=Object(u.a)(i,2),l=d[0],p=d[1];return Object(b.jsxs)("div",{className:"product",children:[Object(b.jsx)("h2",{className:"product__name",children:t}),Object(b.jsx)("p",{className:"product__category",children:c}),Object(b.jsx)("p",{className:"product__description",children:a}),Object(b.jsxs)("p",{className:"product__price",children:["\u20b9 ",Object(b.jsx)("span",{children:r})]}),Object(b.jsx)("i",{className:(l?"fa-times":"fa-ellipsis-v")+" fas product__menu-button",onClick:function(){return p(!l)}}),Object(b.jsxs)("div",{className:(l?"show":"")+" product__menu",children:[Object(b.jsx)(x.b,{to:"/update/"+s,children:Object(b.jsx)("p",{className:"product__menu__item",children:"Update"})}),Object(b.jsx)("p",{className:"product__menu__item",onClick:function(){return o(s)},children:"Delete"})]})]})}y.defaultProps={name:"Item 1",description:"This is a short description about item 1.",price:2499,category:"category1"};var v=y;a(49);var g=function(e){var t=e.type,a=e.success,r=e.error,c=Object(n.useState)(!0),s=Object(u.a)(c,2),o=s[0],i=s[1];return Object(n.useEffect)((function(){return function(){setTimeout((function(){i(!1)}),3e3)}})),Object(b.jsx)("h1",{className:"popup "+(r?"popup--error":"popup--success")+(o?" popup--show":""),children:a?t+" SUCCESFULL":r})},E=a(13),C=a.n(E),N="FETCH_PRODUCTS_REQUEST",S="FETCH_PRODUCTS_SUCCESS",T="FETCH_PRODUCTS_ERROR",R="DELETE_PRODUCT",w="FETCH_CATEGORIES_REQUEST",D="FETCH_CATEGORIES_SUCCESS",k="FETCH_CATEGORIES_ERROR",U=function(){return function(){var e=Object(_.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:w}),e.prev=1,e.next=4,C()({method:"GET",url:"/products/categories"});case 4:a=e.sent,t({type:D,payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:k});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},F="ADD_SUCCESS",P="UPDATE_SUCCESS",A="DELETE_ERROR",L="DELETE_SUCCESS",I="RESET_PRODUCT",M=function(){return{type:I}},G=function(e){return function(){var t=Object(_.a)(O.a.mark((function t(a){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C.a.delete("/products/".concat(e));case 3:a({type:L}),a({type:R,payload:e}),a(U()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a((n=t.t0.message,{type:A,payload:n}));case 11:setTimeout((function(){a(M())}),3e3);case 12:case"end":return t.stop()}var n}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()};a(68);var H=function(){var e=Object(f.b)(),t=Object(f.c)((function(e){return e})),a=t.products,r=t.filter,c=t.product,o=a.loading,i=a.error,u=a.data,d=c.success,l=c.type,p=c.error;Object(n.useEffect)((function(){e(U())}),[e]),Object(n.useEffect)((function(){e(function(e){return function(){var t=Object(_.a)(O.a.mark((function t(a){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:N}),t.prev=1,t.next=4,C()({method:"GET",url:"/products",params:e});case 4:n=t.sent,a({type:S,payload:n.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:T});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(r))}),[e,r]);var j=function(){var t=Object(_.a)(O.a.mark((function t(a){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(G(a));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(b.jsxs)("div",{className:"products",children:[o?Object(b.jsx)("h1",{className:"products__message",children:"Loading"}):i?Object(b.jsx)("h1",{className:"products__message",children:"Unable to load Products"}):0===u.length?Object(b.jsx)("h1",{className:"products__message",children:"No Products to show"}):u.map((function(e){return Object(b.jsx)(v,Object(s.a)(Object(s.a)({},e),{},{deleteProduct:j}),e._id)})),d||p?Object(b.jsx)(g,{type:l,success:d,error:p}):""]})};a(69);var Q=function(){return Object(b.jsxs)("div",{className:"home",children:[Object(b.jsx)(m,{}),Object(b.jsx)(H,{})]})};a(70);var B=function(e){return Object(b.jsxs)("div",{className:"navbar",children:[Object(b.jsx)(x.b,{to:"/",children:Object(b.jsx)("h2",{className:"navbar__heading",children:"ProductStore"})}),Object(b.jsx)(x.b,{to:"/add",children:Object(b.jsx)("p",{className:"navbar__link",children:"Add"})})]})},J="FORM_REQUEST",V="FORM_SUCCESS",W="FORM_ERROR",Y="FORM_RESET";a(71);var q=function(e){var t=Object(f.b)(),a=Object(f.c)((function(e){return e.form})),r=a.loading,c=a.error,o=a.success,d=Object(n.useState)({name:"",description:"",category:"",price:""}),l=Object(u.a)(d,2),p=l[0],j=l[1],m=e.type,h=function(){var e=Object(_.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get("/products/".concat(t));case 2:a=e.sent,j(a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){return o&&(t({type:Y}),e.history.push("/"),t(U())),"update"===m&&h(e.match.params.id),function(){y()}}),[o,e.history,m,t,e.match.params.id]);var x=function(e){j((function(t){return Object(s.a)(Object(s.a)({},t),{},Object(i.a)({},e.target.name,e.target.value))}))},y=function(){j({name:"",description:"",category:"",price:""})};return Object(b.jsxs)("div",{className:"add",children:[Object(b.jsxs)("h2",{className:"add__heading",children:["add"===m?"Add a ":"Update"," Product"]}),c?Object(b.jsx)("h3",{className:"add__message add__message--error",children:c}):"",Object(b.jsxs)("form",{className:"add__form",onSubmit:function(e){e.preventDefault(),t(function(e,t){return function(){var a=Object(_.a)(O.a.mark((function a(n){return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n({type:J}),a.prev=1,"add"!==t){a.next=8;break}return a.next=5,C.a.post("/products",e);case 5:n(function(){var e=Object(_.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:F}),setTimeout((function(){t(M())}),3e3);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a.next=11;break;case 8:return a.next=10,C.a.put("/products/".concat(e._id),e);case 10:n(function(){var e=Object(_.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:P}),setTimeout((function(){t(M())}),3e3);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 11:n({type:V,payload:"Product added succesfully"}),a.next=17;break;case 14:a.prev=14,a.t0=a.catch(1),n({type:W,payload:a.t0.message});case 17:case"end":return a.stop()}}),a,null,[[1,14]])})));return function(e){return a.apply(this,arguments)}}()}(p,m))},children:[Object(b.jsx)("input",{type:"text",className:"add__form__input",name:"name",id:"name",value:p.name,onChange:x,placeholder:"Name",autoComplete:"off"}),Object(b.jsx)("textarea",{className:"add__form__input",cols:"30",rows:"5",name:"description",id:"description",value:p.description,onChange:x,placeholder:"Product Description"}),Object(b.jsx)("input",{type:"text",className:"add__form__input",name:"category",id:"category",value:p.category,onChange:x,placeholder:"Category",autoComplete:"off"}),Object(b.jsx)("input",{type:"number",className:"add__form__input",label:"price",name:"price",id:"price",value:p.price,onChange:x,placeholder:"Price",autoComplete:"off"}),Object(b.jsx)("button",{type:"submit",className:"add__form__button",disabled:!!r,children:r?"Loading":"add"===m?"Add":"Update"})]})]})};a(72);var z=function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)("h2",{children:"Oops nothing to show here."}),Object(b.jsx)(x.b,{to:"/",children:"Go Back to Home"})]})};a(73);var K=function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(B,{}),Object(b.jsxs)(o.c,{children:[Object(b.jsx)(o.a,{path:"/",exact:!0,component:Q}),Object(b.jsx)(o.a,{path:"/add",render:function(e){return Object(b.jsx)(q,Object(s.a)({type:"add"},e))}}),Object(b.jsx)(o.a,{path:"/update/:id",render:function(e){return Object(b.jsx)(q,Object(s.a)({type:"update"},e))}}),Object(b.jsx)(o.a,{path:"",component:z})]})]})},X=a(18),Z=a(34),$=a(35),ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return{loading:!0,error:!1};case S:return{loading:!1,error:!1,data:t.payload};case T:return{loading:!1,error:!0};case R:var a=e.data.filter((function(e){return e._id!==t.payload}));return{loading:!1,error:!1,data:a};default:return e}},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(s.a)(Object(s.a)({},e),{},{name:t.payload});case l:return Object(s.a)(Object(s.a)({},e),{},{category:t.payload});case p:var a=Object(s.a)({},e);return t.payload.min?a.min=t.payload.min:delete a.min,t.payload.max?a.max=t.payload.max:delete a.max,a;case j:return{};default:return e}},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{categories:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return{loading:!0};case D:return{loading:!1,categories:t.payload};case k:return{loading:!1,error:!0};default:return e}},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return{loading:!0};case V:return{loading:!1,success:t.payload};case W:return{loading:!1,error:t.payload};case Y:return{};default:return e}},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return{success:!0,type:"ADD"};case P:return{success:!0,type:"UPDATE"};case L:return{success:!0,type:"DELETE"};case A:return{success:!1,error:t.payload,type:"DELETE"};case I:return{};default:return e}},ce=Object(X.combineReducers)({products:ee,filter:te,categories:ae,form:ne,product:re}),se=Object(X.createStore)(ce,{products:{data:[]}},Object(Z.composeWithDevTools)(Object(X.applyMiddleware)($.a)));a(74);c.a.render(Object(b.jsx)(x.a,{children:Object(b.jsx)(f.a,{store:se,children:Object(b.jsx)(K,{})})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.06b0eb4e.chunk.js.map